<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Visualizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body, html { margin: 0; padding: 0; background: #000; overflow: hidden; }
    .hidden { display: none; }
  </style>
  <meta property="og:title" content="Visualizer" />
  <meta property="og:description" content="HTML5 audio visualizer for microphone or line-in input. Chrome recommended, Firefox works OK. Click or use 1-7 to select a visualization and press += to change variants." />
  <meta property="og:image" content="../thumbnail.jpg" />
  <script type="text/javascript" src="visualizer.browser.js"></script>
</head>
<body>
  <canvas id="canvas"></canvas>
  <img id="image" class="hidden" src="pyramid.png">
  <script>
    var viz

    try {
      var options = { canvas: document.querySelector('canvas') }
      viz = visualizer(options)
    } catch(err) {
      console.error(err.message)
      alert(err.message)
    }
    
    var bodyElement = document.getElementsByTagName('body')[0]

    bodyElement.onkeyup = function(e) { 
      var ev = e || event
      if (ev.keyCode >= 49 && ev.keyCode < 49) {
        viz.showVisualization(ev.keyCode - 49)
      } else if (ev.keyCode == 187 || ev.keyCode == 61) {
        viz.vary()
      }
    }

    bodyElement.onclick = function() {
      viz.showNextVisualization()
    }

  </script>
</body>
</html>